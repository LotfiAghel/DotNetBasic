@typeparam TItem

@using System.Collections.Generic
@using Microsoft.AspNetCore.Components.Rendering;
@using AdminBaseComponenets;
@using Newtonsoft.Json
@inherits EditBase2<TItem>
@{
    if(value is null){
        <div>value is null</div>
    }
}
@{
    if(!(value is null)){
        <EditForm Model="@value">
            @{
                if (typeof(TItem).IsValueType && OnChange==null)
                {
                    OnChange = (x) =>
                    {
                        Console.WriteLine("mis onchange");


                    };
                }

                foreach (var property in propertis)
                {

                    bool readOnly = false;

                    {
                        var y = property.GetCustomFirstAttributes<Models.IgnoreDefultForm>();
                        if (y != null && y.ignoreDefultForm)
                            continue;

                    }
                    {
                        var x = property.GetCustomFirstAttributes<JsonIgnoreAttribute>();
                        if (x != null){
                            readOnly = true;

                            var y = property.GetCustomFirstAttributes<Models.IgnoreDefultForm>();
                            if (y==null || y.ignoreDefultForm)
                                continue;
                        }

                    }



                    var z = createProp(property, readOnly);

                        
                        if (z != null)
                        {
                            
                            <Row>
                                <Column ColumnSize=ColumnSize.Is2>
                                    <label for="pass">@property.GetPerisanName()</label>
                                </Column>
                            

                            
                                <Column ColumnSize=ColumnSize.Is10>
                                    @z
                                </Column>
                            </Row>
                        
                        }

                    }
                }


            
        </EditForm>
    }
}


